version: '3.8'

services:

  postgresdb:
    container_name: postgres-containers
    image: postgres
    restart: always
    ports:
      - 5434:5432
    env_file: ./.env
    environment:
      POSTGRES_USER: $POSTGRES_USER
      POSTGRES_PASSWORD: $POSTGRES_PASSWORD
      POSTGRES_DB: $POSTGRES_DB
    volumes:
        - ./deel-task/dbseed:/docker-entrypoint-initdb.d

  deel-task:
    container_name: deel-container
    build: 
      context: deel-task
      dockerfile: DockerFile
    restart: always
    env_file: ./.env
    ports:
      - 3000:3000    

volumes: 
  db: